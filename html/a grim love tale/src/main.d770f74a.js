parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"4DFf":[function(require,module,exports) {
"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function a(e,a,s){return a&&t(e.prototype,a),s&&t(e,s),e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var s=function(){function t(a,s){e(this,t),this.scene=a,this.mapScale=2,this.map=a.add.tilemap(s),this.tileset=this.map.addTilesetImage("tilemap_generic_e","tilemap_generic_e"),this.ground=this.map.createStaticLayer("ground",this.tileset,0,0).setScale(this.mapScale).setDepth(0).setAlpha(.4),this.base=this.map.createStaticLayer("base",this.tileset,0,0).setScale(this.mapScale).setDepth(1),this.above=this.map.createStaticLayer("above",this.tileset,0,0).setScale(this.mapScale).setDepth(20),this.collisionLayer=this.map.createStaticLayer("collision",this.tileset,0,0).setScale(this.mapScale).setVisible(!1),this.collisionLayer.setCollisionByProperty({collides:!0}),this.initSpawnTiles(),this.initSpecialTiles()}return a(t,[{key:"initSpawnTiles",value:function(){var e=this.map.createStaticLayer("spawn",this.tileset,0,0).setScale(this.mapScale).setVisible(!1).getTilesWithin();this.playerSpawn=null,this.characterSpawns=[];for(var t=0;t<e.length;t++){var a=e[t],s={x:a.pixelX*this.mapScale,y:a.pixelY*this.mapScale+4};-1!==a.index&&(a.properties.hasOwnProperty("player")?this.playerSpawn=s:a.properties.hasOwnProperty("human")?this.characterSpawns.push({pos:s,type:"human"}):a.properties.hasOwnProperty("bat")?this.characterSpawns.push({pos:s,type:"bat"}):a.properties.hasOwnProperty("rat")?this.characterSpawns.push({pos:s,type:"rat"}):a.properties.hasOwnProperty("bunny")&&this.characterSpawns.push({pos:s,type:"bunny"}))}}},{key:"initSpecialTiles",value:function(){this.specialLayer=this.map.createDynamicLayer("special",this.tileset,0,0).setScale(this.mapScale).setVisible(!1);var e=this.specialLayer.getTilesWithin();this.deathZones=this.scene.add.group(),this.blocks=this.scene.add.group();for(var t=0;t<e.length;t++){var a=e[t],s={x:a.pixelX*this.mapScale,y:a.pixelY*this.mapScale};if(14===a.index){var i=this.scene.physics.add.sprite(s.x,s.y,"mainscene","portal_closed_01.png").setScale(2).setOrigin(0,.5).setDepth(1).setMaxVelocity(150,200).setDrag(500,0).setGravity(0,400);i.body.setSize(12,null,!1),i.body.setOffset(2,0),i.anims.play("portal_closed"),this.deathZones.add(i)}if(15===a.index){var r=this.scene.physics.add.sprite(s.x,s.y+this.mapScale,"mainscene","box.png").setScale(2).setOrigin(0).setMaxVelocity(150,200).setDrag(500,355).setGravity(0,400).setImmovable();this.blocks.add(r)}}}},{key:"getSpecialLayer",value:function(){return this.specialLayer}},{key:"getCollisionLayer",value:function(){return this.collisionLayer}}]),t}();exports.default=s;
},{}],"osRP":[function(require,module,exports) {
"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var r=function(){function t(){e(this,t)}return n(t,null,[{key:"getCanvasAdjustedParticlePosition",value:function(e,t,n){var r=n.zoom;return{x:e+(e-n.worldView.centerX)*(1/r-1),y:t+(t-n.worldView.centerY)*(1/r-1)}}}]),t}();exports.default=r;
},{}],"W+3U":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./Utils"));function t(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}var r=function(){function t(e){i(this,t),this.scene=e,this.movementKeys={W:e.input.keyboard.addKey("W"),A:e.input.keyboard.addKey("A"),S:e.input.keyboard.addKey("S"),D:e.input.keyboard.addKey("D"),LEFT:e.input.keyboard.addKey("LEFT"),RIGHT:e.input.keyboard.addKey("RIGHT"),UP:e.input.keyboard.addKey("UP"),DOWN:e.input.keyboard.addKey("DOWN"),SPACE:e.input.keyboard.addKey("SPACE"),CTRL:e.input.keyboard.addKey("CTRL")},this.scene.input.keyboard.on("keyup_R",function(e){this.scene.gameOver||this.scene.restart()}.bind(this)),this.createJumpEffectEmitter()}return o(t,[{key:"createJumpEffectEmitter",value:function(){this.jumpEmitter=this.scene.add.particles("mainscene").setDepth(2),this.jumpEmitter.createEmitter({frame:"smoke.png",lifespan:300,rotate:{min:0,max:360},speedX:{min:-50,max:50},speedY:{min:0,max:-20},alpha:{start:1,end:0},scale:{min:.1,max:.2},gravityY:-100,on:!1})}},{key:"handleMovementInput",value:function(t){if(this.leftMovementTriggered()?(t.setVelocityX(-140),t.updateState("RUN")):this.rightMovementTriggered()?(t.setVelocityX(140),t.updateState("RUN")):(t.setVelocityX(0),t.updateState("IDLE")),t.canJump&&this.upMovementTriggered()&&(t.body.onFloor()||t.body.touching.down||t.timeSinceLastOnFloor<100)){t.setVelocityY(-250),t.updateState("JUMP"),this.scene.scene.get("AUDIO").playJump();var i=e.default.getCanvasAdjustedParticlePosition(t.getCenter().x,t.getCenter().y+t.displayHeight/2,this.scene.cameras.main);this.jumpEmitter.emitParticleAt(i.x,i.y,10)}t.canFly&&(this.upMovementTriggered()?t.setVelocityY(-140):this.downMovementTriggered()?t.setVelocityY(140):t.setVelocityY(0),(this.upMovementTriggered()||this.downMovementTriggered())&&(this.leftMovementTriggered()||this.rightMovementTriggered())&&(t.setVelocityX(.7*t.body.velocity.x),t.setVelocityY(.7*t.body.velocity.y)))}},{key:"upMovementTriggered",value:function(){return this.movementKeys.UP.isDown||this.movementKeys.W.isDown||this.movementKeys.SPACE.isDown||this.movementKeys.CTRL.isDown}},{key:"downMovementTriggered",value:function(){return this.movementKeys.DOWN.isDown||this.movementKeys.S.isDown}},{key:"leftMovementTriggered",value:function(){return this.movementKeys.LEFT.isDown||this.movementKeys.A.isDown}},{key:"rightMovementTriggered",value:function(){return this.movementKeys.RIGHT.isDown||this.movementKeys.D.isDown}}]),t}();exports.default=r;
},{"./Utils":"osRP"}],"21/c":[function(require,module,exports) {
"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function i(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}function o(e,n){return!n||"object"!==t(n)&&"function"!=typeof n?r(e):n}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var u=function(t){function n(t){var i;return e(this,n),(i=o(this,s(n).call(this,t.scene,t.pos.x,t.pos.y,"mainscene",""))).scene=t.scene,i.type=t.type,i.canJump=t.canJump||!1,i.canFly=t.canFly||!1,i.idleAnim=t.idleAnim,i.runAnim=t.runAnim,i.jumpAnim=t.jumpAnim,i.fallAnim=t.fallAnim,i.eatAnim=t.eatAnim,i.anims.play(i.idleAnim,!0),i.state="IDLE",i.jumping=!1,i.scene.add.existing(r(i)),i.scene.physics.add.existing(r(i)),i.setMaxVelocity(200,250),i.setCollideWorldBounds(!0),i.timeSinceLastOnFloor=999999,i}return a(n,Phaser.Physics.Arcade.Sprite),i(n,[{key:"updateIdleAnimation",value:function(t){this.idleAnim=t}},{key:"setTimeSinceLastOnFloor",value:function(t){this.active&&(this.body.onFloor()||this.body.touching.down?this.timeSinceLastOnFloor=0:this.timeSinceLastOnFloor+=t)}},{key:"updateState",value:function(t){if(!this.eating){switch(this.state=t,this.state){case"IDLE":this.body.onFloor()||this.body.touching.down?this.anims.play(this.idleAnim,!0):this.jumping||this.anims.play(this.fallAnim,!0);break;case"RUN":this.body.onFloor()||this.body.touching.down?this.anims.play(this.runAnim,!0):this.jumping||this.anims.play(this.fallAnim,!0);break;case"JUMP":this.jumping=!0,this.timeSinceLastOnFloor=999999,this.anims.play(this.jumpAnim,!0,0).once("animationcomplete",function(){this.jumping=!1}.bind(this))}var e=this.body.velocity.x?this.body.velocity.x<0?-1:1:0;0!=e&&this.setFlipX(e<0)}}}]),n}();exports.default=u;
},{}],"6PYv":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./Character"));function t(e){return e&&e.__esModule?e:{default:e}}function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e}function u(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?a(e):t}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p=function(t){function r(e){var t;return n(this,r),e.type="player",e.level>9?(e.idleAnim="reaper_idle",e.runAnim="reaper_run",e.jumpAnim="reaper_idle",e.fallAnim="reaper_fall"):e.level>4?(e.idleAnim="reaper_idle_scythe",e.runAnim="reaper_run_scythe",e.jumpAnim="reaper_idle_scythe",e.fallAnim="reaper_fall_scythe"):(e.idleAnim="reaper_idle_naked",e.runAnim="reaper_run_naked",e.jumpAnim="reaper_idle_naked",e.fallAnim="reaper_fall_naked"),e.canMove=!0,e.canJump=!1,(t=u(this,l(r).call(this,e))).setDepth(6),t.setOrigin(0,.5),t.setScale(2),t.body.setSize(8,18,!1),t.body.setOffset(4,7),t.body.setGravity(0,400),t}return f(r,e.default),i(r,[{key:"update",value:function(e,t){}}]),r}();exports.default=p;
},{"./Character":"21/c"}],"Lglt":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("./Character"));function e(t){return t&&t.__esModule?t:{default:t}}function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}function i(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?f(t):e}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c(t,e,n){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=a(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function a(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=l(t)););return t}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var y=function(e){function n(t){var e;return r(this,n),t.type="human",t.idleAnim="human_outline",t.runAnim="human_run",t.jumpAnim="human_jump",t.fallAnim="human_fall",t.canJump=!0,(e=i(this,l(n).call(this,t))).setDepth(5),e.setOrigin(0,.5),e.setScale(2),e.body.setSize(10,18,!1),e.body.setOffset(3,4),e.body.setDrag(500,0),e.body.setGravity(0,600),e}return p(n,t.default),u(n,[{key:"updateIdleAnimation",value:function(){c(l(n.prototype),"updateIdleAnimation",this).call(this,"human_idle")}}]),n}();exports.default=y;
},{"./Character":"21/c"}],"vfLi":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("./Character"));function e(t){return t&&t.__esModule?t:{default:t}}function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function u(t,e,r){return e&&o(t.prototype,e),r&&o(t,r),t}function i(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?f(t):e}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c(t,e,r){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,r){var n=a(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(r):o.value}})(t,e,r||t)}function a(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=l(t)););return t}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var y=function(e){function r(t){var e;return n(this,r),t.type="rat",t.idleAnim="rat_outline",t.runAnim="rat_run",t.fallAnim="rat_run",t.canJump=!1,(e=i(this,l(r).call(this,t))).setDepth(5),e.setOrigin(0,.5),e.setScale(2),e.body.setSize(10,6,!1),e.body.setOffset(2,4),e.body.setDrag(500,0),e.body.setGravity(0,400),e}return p(r,t.default),u(r,[{key:"updateIdleAnimation",value:function(){c(l(r.prototype),"updateIdleAnimation",this).call(this,"rat_idle")}}]),r}();exports.default=y;
},{"./Character":"21/c"}],"5VG9":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("./Character"));function e(t){return t&&t.__esModule?t:{default:t}}function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}function i(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?f(t):e}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c(t,e,n){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=l(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function l(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=a(t)););return t}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var s=function(e){function n(t){var e;return r(this,n),t.type="bat",t.idleAnim="bat_outline",t.runAnim="bat_fly",t.fallAnim="bat_fly",t.canFly=!0,(e=i(this,a(n).call(this,t))).setDepth(5),e.setOrigin(0,.5),e.setScale(2),e.body.setSize(14,10,!1),e.body.setOffset(1,3),e.body.setDrag(500,0),e.body.setGravity(0,0),e}return p(n,t.default),u(n,[{key:"updateIdleAnimation",value:function(){c(a(n.prototype),"updateIdleAnimation",this).call(this,"bat_fly")}}]),n}();exports.default=s;
},{"./Character":"21/c"}],"Wc2n":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("./Character"));function e(t){return t&&t.__esModule?t:{default:t}}function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}function i(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?f(t):e}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c(t,e,n){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=l(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function l(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=a(t)););return t}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var s=function(e){function n(t){var e;return r(this,n),t.type="bunny",t.idleAnim="bunny_outline",t.runAnim="bunny_run",t.jumpAnim="bunny_jump",t.fallAnim="bunny_fall",t.canJump=!0,(e=i(this,a(n).call(this,t))).setDepth(5),e.setOrigin(0,.5),e.setScale(2),e.body.setSize(8,10,!1),e.body.setOffset(4,5),e.body.setDrag(500,0),e.body.setGravity(0,400),e}return p(n,t.default),u(n,[{key:"updateIdleAnimation",value:function(){c(a(n.prototype),"updateIdleAnimation",this).call(this,"bunny_idle")}}]),n}();exports.default=s;
},{"./Character":"21/c"}],"3Q/J":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=o(require("../Map")),t=o(require("../Input")),i=o(require("../characters/Player")),s=o(require("../characters/Human")),r=o(require("../characters/Rat")),a=o(require("../characters/Bat")),n=o(require("../characters/Bunny")),l=o(require("../Utils"));function o(e){return e&&e.__esModule?e:{default:e}}function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function y(e,t,i){return t&&u(e.prototype,t),i&&u(e,i),e}function p(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var g=function(o){function h(){return c(this,h),p(this,f(h).call(this,{key:"GAME",active:!1}))}return m(h,Phaser.Scene),y(h,[{key:"init",value:function(e){this.level=e.level,this.timedRun=e.timedRun,this.showSpareBunniesHint=e.showSpareBunniesHint}},{key:"create",value:function(){this.cameras.main.setZoom(1.5),this.cameras.main.setBounds(0,0,960,540),this.cameras.main.centerOn(315,330),this.gameOver=!1,this.map=new e.default(this,"lvl_"+this.level),this.inputManager=new t.default(this),this.createPlayer(),this.createPlayerMarker(),this.createCharacters(),this.createSpecialTiles(),this.createBloodEmitter(),this.scene.get("HUD").showInGameHud(this.showSpareBunniesHint,this.level,this.timedRun),this.scene.get("HUD").hideTransitionOverlay(800)}},{key:"createPlayerMarker",value:function(){this.playerMarker=this.add.sprite(this.player.x,this.player.y,"mainscene","skull.png").setScale(2).setDepth(10).setAlpha(.5).setVisible(!1)}},{key:"createPlayer",value:function(){this.player=new i.default({scene:this,pos:this.map.playerSpawn,level:this.level}),this.physics.add.collider(this.player,this.map.getCollisionLayer())}},{key:"createCharacters",value:function(){this.characters=this.add.group({runChildUpdate:!0}),this.map.characterSpawns.forEach(function(e){switch(e.type){case"human":this.characters.add(new s.default({scene:this,pos:e.pos}));break;case"bat":this.characters.add(new a.default({scene:this,pos:e.pos}));break;case"rat":this.characters.add(new r.default({scene:this,pos:e.pos}));break;case"bunny":this.characters.add(new n.default({scene:this,pos:e.pos}));break;default:console.error("Unknown character type: "+e.type)}}.bind(this)),this.physics.add.collider(this.characters,this.map.getCollisionLayer())}},{key:"createBloodEmitter",value:function(){this.bloodParticles=this.add.particles("mainscene").setDepth(100)}},{key:"nextLevel",value:function(){this.gameOver||(this.gameOver=!0,this.scene.get("AUDIO").playLevelComplete(),this.scene.get("HUD").showTransitionOverlay(800,function(){if(this.storeLevelAsCompleted(),4!=this.level||this.timedRun)if(9!=this.level||this.timedRun)if(15==this.level){var e={},t=this.scene.get("ACHIEVEMENT").getTime();e.time=t,e.timedRun=this.timedRun,e.killedBunny=0===this.characters.getChildren().filter(function(e){return e.active}).filter(function(e){return"bunny"===e.type}).length,this.scene.start("GAMEOVER",e)}else this.scene.start("GAME",{level:this.level+1,timedRun:this.timedRun});else this.scene.start("POWERUP",{nextLevel:this.level+1,powerupStage:2});else this.scene.start("POWERUP",{nextLevel:this.level+1,powerupStage:1})}.bind(this)))}},{key:"storeLevelAsCompleted",value:function(){try{localStorage.setItem("lvl_"+this.level,!0)}catch(e){console.warn("Failed to store level as completed",e)}}},{key:"restart",value:function(){this.scene.start("GAME",{level:this.level,showSpareBunniesHint:this.showSpareBunniesHint,timedRun:this.timedRun})}},{key:"createSpecialTiles",value:function(){this.physics.add.collider(this.characters,this.map.blocks),this.physics.add.collider(this.map.blocks,this.map.getCollisionLayer()),this.physics.add.collider(this.map.deathZones,this.map.getCollisionLayer()),this.physics.add.collider(this.map.blocks,this.map.deathZones)}},{key:"deathZoneCollision",value:function(e){this.gameOver||this.portalOpen(e)&&(this.triggerKillEffects(e),this.killCharacter(e),this.nextLevel(),this.playerMarker.setVisible(!1))}},{key:"killCharacter",value:function(e){e.destroy()}},{key:"update",value:function(e,t){this.gameOver?this.player&&this.player.active&&this.player.setVelocity(0):(this.player.setTimeSinceLastOnFloor(t),this.player.update(e,t),this.playerMarker.setPosition(this.player.getCenter().x,this.player.getCenter().y-this.player.displayWidth/2-20),this.playerMarker.flipX=this.player.flipX,this.checkCharacterCollisions(),this.inputManager.handleMovementInput(this.player),this.processBoxPhysics(),this.checkPortalCollision())}},{key:"checkPortalCollision",value:function(){var e=new Phaser.Geom.Rectangle(this.player.body.x,this.player.body.y,this.player.body.width,this.player.body.height),t=this.map.deathZones.getFirstAlive(),i=new Phaser.Geom.Rectangle(t.body.x,t.body.y,t.body.width,t.body.height);Phaser.Geom.Intersects.RectangleToRectangle(e,i)&&this.deathZoneCollision(this.player)}},{key:"processBoxPhysics",value:function(){for(var e=this.map.blocks.getChildren(),t=0;t<e.length;t++){var i=e[t];if(i.body.touching.left&&this.player.x<i.x&&i.setVelocityX(80),i.body.touching.right&&this.player.x>i.x&&i.setVelocityX(-80),i.body.touching.down)i.body.stop(),i.body.setAllowGravity(!1);else this.physics.overlapRect(i.x-2,i.y-2,i.displayWidth+4,i.displayHeight+4,!0,!0).length<=1&&i.body.setAllowGravity(!0)}}},{key:"triggerNewHostEffects",value:function(e){var t=l.default.getCanvasAdjustedParticlePosition(e.getCenter().x,e.getCenter().y,this.cameras.main),i=l.default.getCanvasAdjustedParticlePosition(e.getCenter().x,e.getCenter().y,this.cameras.main);this.bloodParticles.createEmitter({frame:"skull.png",emitZone:{type:"random",source:new Phaser.Geom.Circle(i.x,i.y,30)},lifespan:200,moveToX:t.x,moveToY:t.y,on:!1}).emitParticle(10)}},{key:"triggerKillEffects",value:function(e){this.cameras.main.shake(150,.003,.003);var t=l.default.getCanvasAdjustedParticlePosition(e.getCenter().x,e.getCenter().y,this.cameras.main);this.bloodParticles.createEmitter({frame:"skull.png",lifespan:300,speedX:{min:-50,max:50},speedY:{min:-50,max:50},alpha:{start:.6,end:0},on:!1}).emitParticleAt(t.x,t.y,5),this.scene.get("AUDIO").playKill()}},{key:"checkCharacterCollisions",value:function(){var e=new Phaser.Geom.Rectangle(this.player.body.x,this.player.body.y,this.player.body.width,this.player.body.height);this.characters.children.entries.forEach(function(t){if(t!==this.player){var i=new Phaser.Geom.Rectangle(t.body.x,t.body.y,t.body.width,t.body.height);Phaser.Geom.Intersects.RectangleToRectangle(i,e)&&this.characterPlayerCollision(t,this.player)}}.bind(this))}},{key:"characterPlayerCollision",value:function(e,t){this.killCharacter(t),this.triggerKillEffects(this.player),this.player=e,this.triggerNewHostEffects(e),e.updateIdleAnimation(),this.playerMarker.setVisible(!0),this.portalOpen(this.player)&&this.map.deathZones.getChildren().forEach(function(e){return e.anims.play("portal_open")})}},{key:"portalOpen",value:function(e){var t=this.characters.getChildren().filter(function(e){return e.active}).filter(function(e){return"bunny"===e.type}).length,i=this.characters.getChildren().filter(function(e){return e.active}).length;return i<=1||i-t==1&&"bunny"!==e.type}}]),h}();exports.default=g;
},{"../Map":"4DFf","../Input":"W+3U","../characters/Player":"6PYv","../characters/Human":"Lglt","../characters/Rat":"vfLi","../characters/Bat":"5VG9","../characters/Bunny":"Wc2n","../Utils":"osRP"}],"+oaI":[function(require,module,exports) {
"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function i(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}function s(t,n){return!n||"object"!==e(n)&&"function"!=typeof n?o(t):n}function o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var c=function(e){function n(){return t(this,n),s(this,a(n).call(this,{key:"MENU",active:!1}))}return r(n,Phaser.Scene),i(n,[{key:"create",value:function(){this.gameStartInitiated=!1,this.scene.get("HUD").hideInGameHud(),this.continueItemIndex=1,this.scene.get("HUD").hideTransitionOverlay(800),this.checkUnlockedLevels(),this.createBackground(),this.createMenuHeader(),this.createMenuSelect(),this.createCreditsButton(),this.createArmorGamesBranding(),this.input.keyboard.on("keyup_SPACE",function(e){this.clickMenuItem()}.bind(this)),this.input.keyboard.on("keyup_ENTER",function(e){this.clickMenuItem()}.bind(this)),this.input.keyboard.on("keydown_UP",function(e){this.updateSelectedMenuItem(-1)}.bind(this)),this.input.keyboard.on("keydown_DOWN",function(e){this.updateSelectedMenuItem(1)}.bind(this)),this.input.keyboard.on("keydown_W",function(e){this.updateSelectedMenuItem(-1)}.bind(this)),this.input.keyboard.on("keydown_S",function(e){this.updateSelectedMenuItem(1)}.bind(this)),this.input.keyboard.on("keydown_LEFT",function(e){this.updateContinueLevel(-1)}.bind(this)),this.input.keyboard.on("keydown_A",function(e){this.updateContinueLevel(-1)}.bind(this)),this.input.keyboard.on("keydown_RIGHT",function(e){this.updateContinueLevel(1)}.bind(this)),this.input.keyboard.on("keydown_D",function(e){this.updateContinueLevel(1)}.bind(this))}},{key:"createArmorGamesBranding",value:function(){this.add.image(170,380,"ag_logo").setOrigin(.5).setScale(.66).setAlpha(1).setInteractive().on("pointerdown",function(){window.open("http://armor.ag/MoreGames","_blank")}.bind(this)),this.add.bitmapText(720,510,"baseFont","PLAY MORE GAMES",24).setOrigin(.5).setAlpha(1).setInteractive().on("pointerdown",function(){window.open("http://armor.ag/MoreGames","_blank")}.bind(this)),this.add.bitmapText(880,510,"baseFont","LIKE US!",24).setOrigin(.5).setAlpha(1).setInteractive().on("pointerdown",function(){window.open("http://www.facebook.com/ArmorGames","_blank")}.bind(this))}},{key:"createCreditsButton",value:function(){this.add.bitmapText(.1*this.cameras.main.width,510,"baseFont","CREDITS",32).setOrigin(.5).setInteractive().on("pointerdown",function(){this.scene.start("CREDITS")}.bind(this))}},{key:"checkUnlockedLevels",value:function(){if(this.lastUnlockedLvl=1,this.selectedContinueLvl=1,this.localStorageAvailable()){for(var e=1;e<=15;e++){if(null==localStorage.getItem("lvl_"+e))return this.lastUnlockedLvl=e,void(this.selectedContinueLvl=e);this.lastUnlockedLvl=e}this.selectedContinueLvl=this.lastUnlockedLvl}else console.warn("Can not access local storage, user may be blocking through extension/settings")}},{key:"localStorageAvailable",value:function(){try{return localStorage.setItem("test","test"),localStorage.removeItem("test"),!0}catch(e){return!1}}},{key:"createBackground",value:function(){this.add.image(this.cameras.main.width/2,this.cameras.main.height/2,"mainscene","background.png").setDisplaySize(this.cameras.main.width,this.cameras.main.height).setAlpha(.8).setDepth(-1)}},{key:"createMenuHeader",value:function(){this.add.image(this.cameras.main.width/2,.3*this.cameras.main.height,"mainscene","logo.png").setScale(3)}},{key:"createMenuSelect",value:function(){this.menuButtons=[];var e=this.add.bitmapText(this.cameras.main.width/2,290,"baseFont","PLAY",48).setOrigin(.5).setInteractive().on("pointerdown",function(){this.startGame(1,!1)}.bind(this)),t=this.add.bitmapText(this.cameras.main.width/2,350,"baseFont","CONTINUE (LVL "+this.selectedContinueLvl+")",48).setOrigin(.5).setInteractive().on("pointerdown",function(){this.startGame(this.selectedContinueLvl,!1)}.bind(this));this.levelSelectArrows=this.add.image(t.x+t.width/2+30,t.y,"mainscene","sidearrows.png").setTint(16036891).setScale(2);var n=this.add.bitmapText(this.cameras.main.width/2,410,"baseFont","SPEEDRUN",48).setOrigin(.5).setInteractive().on("pointerdown",function(){this.startGame(1,!0)}.bind(this));this.menuButtons.push(e),this.menuButtons.push(t),this.menuButtons.push(n),this.arrow=this.add.image(320,0,"mainscene","arrow.png").setTint(16036891).setScale(2),this.tweens.add({targets:this.arrow,alpha:.2,yoyo:!0,repeat:-1,duration:600,ease:"Quad.easeIn"}),this.selectedMenuItem=-1,this.updateSelectedMenuItem(1)}},{key:"clickMenuItem",value:function(){this.scene.get("AUDIO").playButtonPress(),this.menuButtons[this.selectedMenuItem].emit("pointerdown")}},{key:"updateSelectedMenuItem",value:function(e){var t=this.selectedMenuItem+e;t<0||t>this.menuButtons.length-1||(this.scene.get("AUDIO").playSelectButton(),this.selectedMenuItem=t,this.arrow.y=this.menuButtons[this.selectedMenuItem].y,this.arrow.x=this.menuButtons[this.selectedMenuItem].x-this.menuButtons[this.selectedMenuItem].width/2-40,this.selectedMenuItem===this.continueItemIndex?this.levelSelectArrows.setVisible(!0):this.levelSelectArrows.setVisible(!1))}},{key:"updateContinueLevel",value:function(e){var t=this.selectedContinueLvl+e;t<1||t>this.lastUnlockedLvl||this.selectedMenuItem!=this.continueItemIndex||(this.scene.get("AUDIO").playSelectButton(),this.selectedContinueLvl=t,this.menuButtons[this.continueItemIndex].text="CONTINUE (LVL "+this.selectedContinueLvl+")")}},{key:"createDecoration",value:function(){this.add.sprite(this.cameras.main.width-180,340,"mainscene","reaper_idle_01.png").setScale(8).setFlipX(!0).anims.play("reaper_idle")}},{key:"startGame",value:function(e,t){this.gameStartInitiated||(this.gameStartInitiated=!0,t?this.scene.get("HUD").showTransitionOverlay(800,function(){this.scene.get("ACHIEVEMENT").resetTimer(),this.scene.start("GAME",{level:e,timedRun:!0})}.bind(this)):1==e?this.scene.start("INTRO"):this.scene.get("HUD").showTransitionOverlay(800,function(){this.scene.start("GAME",{level:e})}.bind(this)))}}]),n}();exports.default=c;
},{}],"jooe":[function(require,module,exports) {
"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function s(e,t,s){return t&&i(e.prototype,t),s&&i(e,s),e}function n(t,i){return!i||"object"!==e(i)&&"function"!=typeof i?a(t):i}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var l=function(e){function i(){return t(this,i),n(this,r(i).call(this,{key:"HUD",active:!1}))}return o(i,Phaser.Scene),s(i,[{key:"create",value:function(){this.localStorageAvailable()?(this.muteMusic="true"===localStorage.getItem("mute_music"),this.muteEffects="true"===localStorage.getItem("mute_effects")):(this.muteMusic=!1,this.muteEffects=!1),this.createBackButton(),this.createMuteSoundsButton(),this.createLevelText(),this.createTransitionOverlay(),this.createInstructions(),this.createTimerText(),this.createBranding()}},{key:"createBranding",value:function(){this.branding1=this.add.bitmapText(380,this.cameras.main.height-40,"baseFont","PLAY MORE GAMES",24).setOrigin(.5).setAlpha(.3).setVisible(!1).setInteractive().on("pointerdown",function(){window.open("http://armor.ag/MoreGames","_blank")}.bind(this)),this.branding2=this.add.bitmapText(540,this.cameras.main.height-40,"baseFont","LIKE US!",24).setOrigin(.5).setAlpha(.3).setVisible(!1).setInteractive().on("pointerdown",function(){window.open("http://www.facebook.com/ArmorGames","_blank")}.bind(this))}},{key:"createTimerText",value:function(){this.timerText=this.add.bitmapText(this.cameras.main.width-100,this.cameras.main.height-40,"baseFont","",32).setOrigin(.5).setAlpha(.5).setVisible(!1)}},{key:"createFullScreenButton",value:function(){this.add.image(this.cameras.main.width-80,50,"mainscene","fullscreen_icon.png").setInteractive().setScale(2).on("pointerdown",function(){this.scale.isFullscreen?this.scale.stopFullscreen():this.scale.startFullscreen()}.bind(this))}},{key:"createBackButton",value:function(){this.backBtn=this.add.image(50,50,"mainscene","arrow.png").setInteractive().setAngle(180).setVisible(!1).setScale(2),this.backBtn.on("pointerup",function(){this.scene.stop("GAME"),this.scene.run("MENU")}.bind(this))}},{key:"createMuteSoundsButton",value:function(){var e=this.add.image(this.cameras.main.width-130,50,"mainscene",this.muteEffects?"sound_off.png":"sound_on.png").setInteractive().setScale(2);e.on("pointerdown",function(){this.muteEffects=!this.muteEffects,this.scene.get("AUDIO").toggleMuteEffects(this.muteEffects),e.setTexture("mainscene",this.muteEffects?"sound_off.png":"sound_on.png")}.bind(this));var t=this.add.image(this.cameras.main.width-180,50,"mainscene",this.muteMusic?"music_off.png":"music_on.png").setInteractive().setScale(2);t.on("pointerdown",function(){this.muteMusic=!this.muteMusic,this.scene.get("AUDIO").toggleMuteMusic(this.muteMusic),t.setTexture("mainscene",this.muteMusic?"music_off.png":"music_on.png")}.bind(this))}},{key:"localStorageAvailable",value:function(){try{return localStorage.setItem("test","test"),localStorage.removeItem("test"),!0}catch(e){return!1}}},{key:"createLevelText",value:function(){this.levelText=this.add.bitmapText(this.cameras.main.width/2,50,"baseFont","LEVEL "+this.level,32).setOrigin(.5).setAlpha(.5).setVisible(!1)}},{key:"createInstructions",value:function(){this.instructions=this.add.bitmapText(50,this.cameras.main.height-40,"baseFont","R - restart",24).setOrigin(0,.5).setAlpha(.5).setVisible(!1)}},{key:"showInGameHud",value:function(e,t,i){this.levelText.text=e?"DONT TOUCH THE BUNNY!":"level "+t,this.levelText.setVisible(!0),this.backBtn.setVisible(!0),this.instructions.setVisible(!0),this.branding1.setVisible(!0),this.branding2.setVisible(!0),i&&this.timerText.setVisible(!0)}},{key:"hideInGameHud",value:function(){this.levelText.setVisible(!1),this.backBtn.setVisible(!1),this.instructions.setVisible(!1),this.timerText.setVisible(!1),this.branding1.setVisible(!1),this.branding2.setVisible(!1)}},{key:"createTransitionOverlay",value:function(){this.transitionOverlayImages=[];for(var e=[{x:200,y:300,scale:7},{x:100,y:200,scale:10},{x:900,y:100,scale:10},{x:850,y:190,scale:15},{x:400,y:50,scale:12},{x:800,y:50,scale:12},{x:200,y:400,scale:15},{x:150,y:50,scale:15},{x:700,y:150,scale:19},{x:300,y:250,scale:19},{x:50,y:440,scale:15},{x:400,y:400,scale:17},{x:600,y:400,scale:17},{x:300,y:50,scale:7},{x:100,y:50,scale:25},{x:660,y:50,scale:25},{x:400,y:50,scale:25},{x:200,y:200,scale:40},{x:820,y:500,scale:25},{x:600,y:250,scale:25},{x:55,y:300,scale:15},{x:455,y:300,scale:15},{x:800,y:200,scale:40},{x:340,y:400,scale:70}],t=0;t<e.length;t++){var i=e[t],s=this.add.image(i.x,i.y,"mainscene","skull_purple.png").setScale(i.scale).setVisible(!1).setDepth(100);this.transitionOverlayImages.push(s)}}},{key:"hideTransitionOverlay",value:function(e){for(var t=0;t<this.transitionOverlayImages.length;t++)setTimeout(function(e){this.transitionOverlayImages[e].setVisible(!1)}.bind(this,t),e-t*(e/this.transitionOverlayImages.length))}},{key:"showTransitionOverlay",value:function(e,t){for(var i=0;i<this.transitionOverlayImages.length;i++)setTimeout(function(e){this.transitionOverlayImages[e].setVisible(!0)}.bind(this,i),i*e/this.transitionOverlayImages.length);setTimeout(t,e+100)}},{key:"update",value:function(e,t){if(this.timerText.visible){var i=this.scene.get("ACHIEVEMENT").getTime();this.timerText.text=(i/1e3).toFixed(1)}}}]),i}();exports.default=l;
},{}],"1pe0":[function(require,module,exports) {
"use strict";function e(a){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(a)}function a(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}function t(e,a){for(var t=0;t<a.length;t++){var s=a[t];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function s(e,a,s){return a&&t(e.prototype,a),s&&t(e,s),e}function r(a,t){return!t||"object"!==e(t)&&"function"!=typeof t?i(a):t}function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function n(e){return(n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(a&&a.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),a&&l(e,a)}function l(e,a){return(l=Object.setPrototypeOf||function(e,a){return e.__proto__=a,e})(e,a)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var o=function(e){function t(){var e;return a(this,t),(e=r(this,n(t).call(this,{key:"LOADING",active:!0}))).loaded=!1,e}return m(t,Phaser.Scene),s(t,[{key:"preload",value:function(){this.load.on("progress",function(e){this.progressBar.clear(),this.progressBar.fillStyle(16777215,1),this.progressBar.fillRect(this.cameras.main.width/2-160,this.cameras.main.height/2,300*e,30)}.bind(this)),this.load.on("complete",function(){this.loaded=!0,this.progressBar.destroy(),this.progressBox.destroy()}.bind(this)),this.progressBar=this.add.graphics(),this.progressBox=this.add.graphics(),this.progressBox.fillStyle(2236962,.8),this.progressBox.fillRect(this.cameras.main.width/2-170,this.cameras.main.height/2-10,320,50),this.loadAssets()}},{key:"loadAssets",value:function(){this.load.atlas("mainscene","assets/spritesheet.png","assets/spritesheet.json"),this.load.image("tilemap_generic_e","assets/tilemap_generic_e.png"),this.load.image("ag_logo","assets/ag_logo.png"),this.load.tilemapTiledJSON("lvl_1","assets/lvl_1.json"),this.load.tilemapTiledJSON("lvl_2","assets/lvl_2.json"),this.load.tilemapTiledJSON("lvl_3","assets/lvl_3.json"),this.load.tilemapTiledJSON("lvl_4","assets/lvl_4.json"),this.load.tilemapTiledJSON("lvl_5","assets/lvl_5.json"),this.load.tilemapTiledJSON("lvl_6","assets/lvl_6.json"),this.load.tilemapTiledJSON("lvl_7","assets/lvl_7.json"),this.load.tilemapTiledJSON("lvl_8","assets/lvl_8.json"),this.load.tilemapTiledJSON("lvl_9","assets/lvl_9.json"),this.load.tilemapTiledJSON("lvl_10","assets/lvl_10.json"),this.load.tilemapTiledJSON("lvl_11","assets/lvl_11.json"),this.load.tilemapTiledJSON("lvl_12","assets/lvl_12.json"),this.load.tilemapTiledJSON("lvl_13","assets/lvl_13.json"),this.load.tilemapTiledJSON("lvl_14","assets/lvl_14.json"),this.load.tilemapTiledJSON("lvl_15","assets/lvl_15.json"),this.load.bitmapFont("baseFont","assets/font_0.png","assets/font.fnt"),this.load.bitmapFont("highlightFont","assets/font_0_red.png","assets/font.fnt"),this.load.audio("menuSelectSound",["assets/audio/click_1.wav"]),this.load.audio("buttonPressSound",["assets/audio/click_2.wav"]),this.load.audio("jumpSound",["assets/audio/jump.wav"]),this.load.audio("level_up",["assets/audio/level_up.wav"]),this.load.audio("end_slice",["assets/audio/end_slice.wav"]),this.load.audio("killSound",["assets/audio/kill.wav"]),this.load.audio("levelCompleteSound",["assets/audio/levelComplete.wav"]),this.load.audio("gameplayLoop",["assets/audio/gameplayLoop_c.mp3"])}},{key:"create",value:function(){this.anims.create({key:"portal_closed",frames:this.anims.generateFrameNames("mainscene",{start:1,end:4,zeroPad:2,prefix:"portal_closed_",suffix:".png"}),frameRate:12,repeat:-1}),this.anims.create({key:"portal_open",frames:this.anims.generateFrameNames("mainscene",{start:1,end:4,zeroPad:2,prefix:"portal_open_",suffix:".png"}),frameRate:12,repeat:-1}),this.anims.create({key:"human_outline",frames:this.anims.generateFrameNames("mainscene",{start:1,end:4,zeroPad:2,prefix:"human_idle_outline_",suffix:".png"}),frameRate:12,repeat:-1}),this.anims.create({key:"human_idle",frames:this.anims.generateFrameNames("mainscene",{start:1,end:4,zeroPad:2,prefix:"human_idle_",suffix:".png"}),frameRate:12,repeat:-1}),this.anims.create({key:"human_run",frames:this.anims.generateFrameNames("mainscene",{start:1,end:4,zeroPad:2,prefix:"human_run_",suffix:".png"}),frameRate:12,repeat:-1}),this.anims.create({key:"human_jump",frames:this.anims.generateFrameNames("mainscene",{start:1,end:4,zeroPad:2,prefix:"human_jump_",suffix:".png"}),frameRate:12,repeat:0}),this.anims.create({key:"human_fall",frames:this.anims.generateFrameNames("mainscene",{start:4,end:4,zeroPad:2,prefix:"human_jump_",suffix:".png"}),frameRate:12,repeat:0}),this.anims.create({key:"bunny_outline",frames:this.anims.generateFrameNames("mainscene",{start:1,end:4,zeroPad:2,prefix:"bunny_idle_outline_",suffix:".png"}),frameRate:6,repeat:-1}),this.anims.create({key:"bunny_idle",frames:this.anims.generateFrameNames("mainscene",{start:1,end:4,zeroPad:2,prefix:"bunny_idle_",suffix:".png"}),frameRate:6,repeat:-1}),this.anims.create({key:"bunny_run",frames:this.anims.generateFrameNames("mainscene",{start:1,end:4,zeroPad:2,prefix:"bunny_run_",suffix:".png"}),frameRate:12,repeat:-1}),this.anims.create({key:"bunny_jump",frames:this.anims.generateFrameNames("mainscene",{start:1,end:3,zeroPad:2,prefix:"bunny_jump_",suffix:".png"}),frameRate:12,repeat:0}),this.anims.create({key:"bunny_fall",frames:this.anims.generateFrameNames("mainscene",{start:3,end:3,zeroPad:2,prefix:"bunny_jump_",suffix:".png"}),frameRate:12,repeat:0}),this.anims.create({key:"reaper_idle",frames:this.anims.generateFrameNames("mainscene",{start:1,end:4,zeroPad:2,prefix:"reaper_idle_",suffix:".png"}),frameRate:6,repeat:-1}),this.anims.create({key:"reaper_run",frames:this.anims.generateFrameNames("mainscene",{start:1,end:4,zeroPad:2,prefix:"reaper_run_",suffix:".png"}),frameRate:12,repeat:-1}),this.anims.create({key:"reaper_fall",frames:this.anims.generateFrameNames("mainscene",{start:3,end:3,zeroPad:2,prefix:"reaper_run_",suffix:".png"}),frameRate:12,repeat:0}),this.anims.create({key:"reaper_idle_naked",frames:this.anims.generateFrameNames("mainscene",{start:1,end:4,zeroPad:2,prefix:"reaper_idle_naked_",suffix:".png"}),frameRate:6,repeat:-1}),this.anims.create({key:"reaper_run_naked",frames:this.anims.generateFrameNames("mainscene",{start:1,end:4,zeroPad:2,prefix:"reaper_run_naked_",suffix:".png"}),frameRate:12,repeat:-1}),this.anims.create({key:"reaper_fall_naked",frames:this.anims.generateFrameNames("mainscene",{start:3,end:3,zeroPad:2,prefix:"reaper_run_naked_",suffix:".png"}),frameRate:12,repeat:0}),this.anims.create({key:"reaper_idle_scythe",frames:this.anims.generateFrameNames("mainscene",{start:1,end:4,zeroPad:2,prefix:"reaper_idle_scythe_",suffix:".png"}),frameRate:6,repeat:-1}),this.anims.create({key:"reaper_run_scythe",frames:this.anims.generateFrameNames("mainscene",{start:1,end:4,zeroPad:2,prefix:"reaper_run_scythe_",suffix:".png"}),frameRate:12,repeat:-1}),this.anims.create({key:"reaper_fall_scythe",frames:this.anims.generateFrameNames("mainscene",{start:3,end:3,zeroPad:2,prefix:"reaper_run_scythe_",suffix:".png"}),frameRate:12,repeat:0}),this.anims.create({key:"reaper_girl_blink",frames:this.anims.generateFrameNames("mainscene",{start:1,end:3,zeroPad:2,prefix:"reaper_girl_blink_",suffix:".png"}),frameRate:3,repeat:-1}),this.anims.create({key:"reaper_girl_love",frames:this.anims.generateFrameNames("mainscene",{start:1,end:4,zeroPad:2,prefix:"reaper_girl_love_",suffix:".png"}),frameRate:6,repeat:-1}),this.anims.create({key:"reaper_girl_scythe_flash",frames:this.anims.generateFrameNames("mainscene",{start:1,end:5,zeroPad:2,prefix:"reaper_girl_scythe_flash_",suffix:".png"}),frameRate:6,repeat:2}),this.anims.create({key:"bat_outline",frames:this.anims.generateFrameNames("mainscene",{start:1,end:4,zeroPad:2,prefix:"bat_fly_outline_",suffix:".png"}),frameRate:12,repeat:-1}),this.anims.create({key:"bat_fly",frames:this.anims.generateFrameNames("mainscene",{start:1,end:4,zeroPad:2,prefix:"bat_fly_",suffix:".png"}),frameRate:12,repeat:-1}),this.anims.create({key:"rat_outline",frames:this.anims.generateFrameNames("mainscene",{start:1,end:2,zeroPad:2,prefix:"rat_idle_outline_",suffix:".png"}),frameRate:6,repeat:-1}),this.anims.create({key:"rat_run",frames:this.anims.generateFrameNames("mainscene",{start:1,end:3,zeroPad:2,prefix:"rat_run_",suffix:".png"}),frameRate:12,repeat:-1}),this.anims.create({key:"rat_idle",frames:this.anims.generateFrameNames("mainscene",{start:1,end:2,zeroPad:2,prefix:"rat_idle_",suffix:".png"}),frameRate:6,repeat:-1})}},{key:"update",value:function(){this.loaded&&this.scene.start("SPLASH")}}]),t}();exports.default=o;
},{}],"Krzu":[function(require,module,exports) {
"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function n(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function u(t,o){return!o||"object"!==e(o)&&"function"!=typeof o?r(t):o}function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var s=function(e){function o(){var e;return t(this,o),(e=u(this,l(o).call(this,{key:"AUDIO",active:!1}))).concurrentSounds={},e.baseVolume=2,e}return i(o,Phaser.Scene),n(o,[{key:"create",value:function(){if(this.startBackgroundAudio("gameplayLoop"),this.localStorageAvailable()){var e="true"===localStorage.getItem("mute_music"),t="true"===localStorage.getItem("mute_effects");this.scene.get("AUDIO").toggleMuteEffects(t),this.scene.get("AUDIO").toggleMuteMusic(e)}}},{key:"localStorageAvailable",value:function(){try{return localStorage.setItem("test","test"),localStorage.removeItem("test"),!0}catch(e){return!1}}},{key:"toggleMuteEffects",value:function(e){this.muteEffects=e;try{localStorage.setItem("mute_effects",e)}catch(t){console.warn("Failed to write to local storage")}}},{key:"toggleMuteMusic",value:function(e){this.muteMusic=e,this.muteMusic?this.music.pause():this.music.resume();try{localStorage.setItem("mute_music",e)}catch(t){console.warn("Failed to write to local storage")}}},{key:"startBackgroundAudio",value:function(e){this.music=this.sound.add(e,{volume:.2*this.baseVolume,loop:!0}),this.music.play()}},{key:"playEndSlice",value:function(){this.playSound("end_slice",1)}},{key:"playLevelUp",value:function(){this.playSound("level_up",1)}},{key:"playButtonPress",value:function(){this.playSound("buttonPressSound",2)}},{key:"playSelectButton",value:function(){this.playSound("menuSelectSound",1)}},{key:"playKill",value:function(){this.playSound("killSound",3,.2)}},{key:"playJump",value:function(){this.playSound("jumpSound",1,.04,1,-400)}},{key:"playLevelComplete",value:function(){this.playSound("levelCompleteSound",1)}},{key:"playSound",value:function(e,t,o,n,u,r){if(!this.muteEffects){r&&this.music&&this.music.setVolume(.05*this.baseVolume);try{if(this.concurrentSounds.hasOwnProperty(e)||(this.concurrentSounds[e]=0),this.concurrentSounds[e]<t){var l=this.sound.add(e,{volume:(o||.1)*this.baseVolume,rate:n||1,detune:u||0});l.play(),l.on("complete",function(t,o){this.concurrentSounds[e]-=1,o&&this.music.setVolume(.1*this.baseVolume)}.bind(this,r)),this.concurrentSounds[e]+=1}}catch(i){console.log("unable to play sound "+e)}}}}]),o}();exports.default=s;
},{}],"aPuT":[function(require,module,exports) {
"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function r(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}function o(e,n){return!n||"object"!==t(n)&&"function"!=typeof n?i(e):n}function i(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var a=function(t){function n(){return e(this,n),o(this,u(n).call(this,{key:"ACHIEVEMENT",active:!1}))}return c(n,Phaser.Scene),r(n,[{key:"create",value:function(){this.timer=0}},{key:"resetTimer",value:function(){this.timer=0}},{key:"getTime",value:function(){return this.timer}},{key:"update",value:function(t,e){this.timer+=e}}]),n}();exports.default=a;
},{}],"lYfh":[function(require,module,exports) {
"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function n(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function a(t,i){return!i||"object"!==e(i)&&"function"!=typeof i?s(t):i}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var c=function(e){function i(){return t(this,i),a(this,r(i).call(this,{key:"GAMEOVER",active:!1}))}return u(i,Phaser.Scene),n(i,[{key:"init",value:function(e){this.time=e.time,this.timedRun=e.timedRun,this.killedBunny=e.killedBunny}},{key:"create",value:function(){this.add.image(this.cameras.main.width/2,this.cameras.main.height/2,"mainscene","background.png").setDisplaySize(this.cameras.main.width,this.cameras.main.height).setAlpha(.8).setDepth(-1),this.timedRun?this.createSpeedRunGameOverScreen():this.createStoryGameOverScreen(),this.scene.get("HUD").hideInGameHud(),this.scene.get("HUD").hideTransitionOverlay(800)}},{key:"createStoryGameOverScreen",value:function(){var e=this;this.queuedUpActions=[];var t=this.add.group();if(!this.killedBunny){var i=this.add.sprite(660,367,"mainscene","bunny_idle_black_outline.png").setScale(6).setFlipX(!0);t.add(i)}var n=this.add.sprite(700,290,"mainscene","reaper_girl_blink_01.png").setScale(10).setFlipX(!0).anims.play("reaper_girl_blink"),a=this.add.sprite(270,270,"mainscene","reaper_idle_01.png").setScale(12).anims.play("reaper_idle");t.add(n),t.add(a),this.queueAction(function(){return e.add.image(280,90,"mainscene","emote_happy.png").setScale(8)},t,1200,1500),this.queueAction(function(){return e.add.image(280,100,"mainscene","emote_kill_human.png").setScale(8)},t,2500,2e3),this.queueAction(function(){return e.add.image(700,100,"mainscene","emote_happy.png").setScale(8)},t,3500,2e3),this.queueAction(function(){return e.add.image(280,100,"mainscene","emote_kill_rat.png").setScale(8)},t,6e3,2e3),this.queueAction(function(){return e.add.image(700,100,"mainscene","emote_happy.png").setScale(8)},t,7e3,2e3),this.queueAction(function(){return e.add.image(280,100,"mainscene","emote_kill_bat.png").setScale(8)},t,9500,2e3),this.queueAction(function(){return e.add.image(700,100,"mainscene","emote_happy.png").setScale(8)},t,10500,2e3),this.killedBunny?(this.queueAction(function(){return e.add.image(280,100,"mainscene","emote_kill_bunny.png").setScale(8)},t,13e3,4e3),this.queueAction(function(){return e.add.image(700,100,"mainscene","emote_angry.png").setScale(8)},t,15500,4e3),this.queuedUpActions.push(setTimeout(function(){a.anims.stop(),a.setTexture("mainscene","reaper_worried.png"),n.anims.stop(),n.setTexture("mainscene","reaper_girl_angry.png")}.bind(this,a,n),14500)),this.queuedUpActions.push(setTimeout(function(){n.anims.play("reaper_girl_scythe_flash")}.bind(this,a,n),17500)),this.removeGroup(t,20500,this.displayGrave.bind(this))):(this.queueAction(function(){return e.add.image(280,90,"mainscene","emote_happy.png").setScale(8)},t,12500),this.queueAction(function(){return e.add.image(500,280,"mainscene","heart.png").setScale(12)},t,13500),this.queuedUpActions.push(setTimeout(function(){n.anims.play("reaper_girl_love")}.bind(this,a,n),12500)),this.queueAction(function(){var e=this.add.bitmapText(this.cameras.main.width/2,this.cameras.main.height-100,"baseFont","THANKS FOR PLAYING :)",48).setAlpha(0).setOrigin(.5);return this.tweens.add({targets:e,alpha:1,repeat:0,duration:4e3,ease:"Linear"}),this.createContinueText(),e}.bind(this),t,16500))}},{key:"displayGrave",value:function(){this.scene.get("AUDIO").playEndSlice(),this.cameras.main.flash(2e3,48,48,48);var e=this.add.group(),t=this.add.sprite(250,250,"mainscene","grave.png").setScale(10);e.add(t),this.queueAction(function(){var e=this.add.bitmapText(310,150,"baseFont",'"HERE LIES GRIM...\nHE SHOULDN\'T HAVE KILLED THE BUNNY"',36).setAlpha(0);return this.tweens.add({targets:e,alpha:.7,repeat:0,duration:3e3}),e}.bind(this),e,2e3),this.queueAction(function(){var e=this.add.bitmapText(300,400,"baseFont","PRESS                   TO GIVE LOVE ANOTHER GO",36,1).setAlpha(0);this.tweens.add({targets:e,alpha:1,repeat:0,duration:3e3});var t=this.add.bitmapText(400,400,"highlightFont","SPACE",36);return this.tweens.add({targets:t,alpha:.2,yoyo:!0,repeat:-1,duration:700,ease:"Quad.easeIn"}),this.input.keyboard.on("keyup_SPACE",function(e){this.replayLastLevel()}.bind(this)),e}.bind(this),e,4e3)}},{key:"removeGroup",value:function(e,t,i){this.queuedUpActions.push(setTimeout(function(e,t){e.destroy(!0),t&&t()}.bind(this,e,i),t))}},{key:"queueAction",value:function(e,t,i,n){this.queuedUpActions.push(setTimeout(function(e,t,i){var n=t();e.add(n),i&&this.queuedUpActions.push(setTimeout(function(e){e.destroy()}.bind(this,n),i))}.bind(this,t,e,n),i))}},{key:"createSpeedRunGameOverScreen",value:function(){if(this.add.sprite(this.cameras.main.width/2-100,.45*this.cameras.main.height,"mainscene","reaper_idle_01.png").setScale(8).anims.play("reaper_idle"),this.add.sprite(this.cameras.main.width/2+100,.45*this.cameras.main.height,"mainscene","reaper_girl_blink_01.png").setScale(8).setFlipX(!0).anims.play("reaper_girl_blink"),this.add.bitmapText(this.cameras.main.width/2,130,"baseFont","THANKS FOR PLAYING :)",32).setOrigin(.5),this.time){var e=(this.time/1e3).toFixed(2);this.add.bitmapText(this.cameras.main.width/2,390,"baseFont","TIME:  "+e+" SECONDS",48).setOrigin(.5)}this.createContinueText()}},{key:"replayLastLevel",value:function(){this.scene.get("HUD").showTransitionOverlay(800,function(){this.scene.start("GAME",{level:15,showSpareBunniesHint:!0})}.bind(this))}},{key:"continue",value:function(){this.scene.start("MENU")}},{key:"createContinueText",value:function(){this.input.keyboard.on("keyup",function(e){this.continue()}.bind(this)),this.add.bitmapText(this.cameras.main.width/2,this.cameras.main.height-50,"baseFont","Press                        to continue",24).setOrigin(.5);var e=this.add.bitmapText(this.cameras.main.width/2-28,this.cameras.main.height-50,"highlightFont","any key",24).setTint(16036891).setOrigin(.5);this.tweens.add({targets:e,alpha:.2,yoyo:!0,repeat:-1,duration:700,ease:"Quad.easeIn"})}}]),i}();exports.default=c;
},{}],"J49m":[function(require,module,exports) {
"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function i(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}function o(e,n){return!n||"object"!==t(n)&&"function"!=typeof n?r(e):n}function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var u=function(t){function n(){return e(this,n),o(this,a(n).call(this,{key:"CREDITS",active:!1}))}return s(n,Phaser.Scene),i(n,[{key:"create",value:function(){this.add.image(this.cameras.main.width/2,.3*this.cameras.main.height,"mainscene","logo.png").setScale(3),this.add.image(this.cameras.main.width/2,this.cameras.main.height/2,"mainscene","background.png").setDisplaySize(this.cameras.main.width,this.cameras.main.height).setAlpha(.8).setDepth(-1),this.createCreditsInfo(),this.createContinueText(),this.input.keyboard.on("keyup",function(t){this.continue()}.bind(this))}},{key:"createCreditsInfo",value:function(){this.add.bitmapText(this.cameras.main.width/2,310,"baseFont","BY JRONN\n\nART - RottingPixels & 0x72",32,1).setOrigin(.5)}},{key:"createContinueText",value:function(){this.add.bitmapText(this.cameras.main.width/2,this.cameras.main.height-100,"baseFont","Press                        to continue",24).setAlpha(.8).setOrigin(.5);var t=this.add.bitmapText(this.cameras.main.width/2-28,this.cameras.main.height-100,"highlightFont","any key",24).setTint(16036891).setOrigin(.5);this.tweens.add({targets:t,alpha:.2,yoyo:!0,repeat:-1,duration:700,ease:"Quad.easeIn"})}},{key:"continue",value:function(t){this.scene.start("MENU")}}]),n}();exports.default=u;
},{}],"hcX4":[function(require,module,exports) {
"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function i(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}function a(t,n){return!n||"object"!==e(n)&&"function"!=typeof n?r(t):n}function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var c=function(e){function n(){return t(this,n),a(this,s(n).call(this,{key:"INTRO",active:!1}))}return u(n,Phaser.Scene),i(n,[{key:"create",value:function(){this.startInitiated=!1,this.createContinueText(),this.input.keyboard.on("keyup_SPACE",function(e){this.continue()}.bind(this)),this.createCutscene()}},{key:"createCutscene",value:function(){this.queuedUpActions=[],this.add.image(0,0,"mainscene","background.png").setDisplaySize(this.cameras.main.width,this.cameras.main.height).setDepth(-1).setAlpha(.8).setOrigin(0),this.introduceMainCharacters()}},{key:"introduceMainCharacters",value:function(){var e=this,t=this.add.group();this.add.sprite(150,250,"mainscene","reaper_idle_naked_01.png").setScale(15).anims.play("reaper_idle_naked"),this.queueAction(function(){return e.add.sprite(800,290,"mainscene","reaper_girl_blink_01.png").setScale(12).setFlipX(!0).anims.play("reaper_girl_blink")},t,0),this.removeGroup(t,21e3);var n=this.add.group();this.queueAction(function(){return e.add.image(340,260,"mainscene","pointing_arrow.png").setScale(8).setFlipX(!0)},n,1500),this.queueAction(function(){return e.add.bitmapText(370,140,"baseFont","GRIM",64)},n,1500),this.queueAction(function(){return e.add.image(630,390,"mainscene","pointing_arrow.png").setScale(6)},n,3e3),this.queueAction(function(){return e.add.bitmapText(410,290,"baseFont","SKULL-GIRL",64)},n,3e3),this.removeGroup(n,6e3,this.explainRelationship.bind(this))}},{key:"explainRelationship",value:function(){var e=this,t=this.add.group();this.queueAction(function(){return e.add.image(400,300,"mainscene","reaper_icon.png").setScale(8)},t,1500),this.queueAction(function(){return e.add.image(500,300,"mainscene","heart.png").setScale(8)},t,2e3,6e3),this.queueAction(function(){return e.add.image(600,300,"mainscene","reaper_girl_icon.png").setScale(7)},t,2500),this.queueAction(function(){return e.add.image(400,200,"mainscene","emote_happy.png").setScale(6)},t,3500,3e3),this.queueAction(function(){return e.add.image(600,200,"mainscene","emote_sad.png").setScale(6)},t,5e3),this.queueAction(function(){return e.add.image(500,300,"mainscene","heart_broken.png").setScale(8)},t,8e3),this.queueAction(function(){return e.add.image(400,200,"mainscene","emote_sad.png").setScale(6)},t,9e3),this.removeGroup(t,12e3,this.revealIdea.bind(this))}},{key:"revealIdea",value:function(){var e=this,t=this.add.group();this.queueAction(function(){return e.add.image(180,100,"mainscene","emote_idea.png").setScale(8)},t,0),this.queueAction(function(){return e.add.image(360,190,"mainscene","reaper_idle_naked_01.png").setScale(6).setAlpha(.8)},t,5e3),this.queueAction(function(){return e.add.bitmapText(430,190,"baseFont","+",64).setAlpha(.8)},t,5500),this.queueAction(function(){return e.add.image(560,210,"mainscene","skull_pile.png").setScale(4).setAlpha(.8)},t,6e3),this.queueAction(function(){return e.add.bitmapText(660,190,"baseFont","=",64).setAlpha(.8)},t,6500),this.queueAction(function(){return e.add.image(760,200,"mainscene","reaper_idle_01.png").setScale(6).setAlpha(.8)},t,7e3),this.queueAction(function(){return e.add.image(360,370,"mainscene","reaper_idle_01.png").setScale(6).setAlpha(.8)},t,9500),this.queueAction(function(){return e.add.bitmapText(450,370,"baseFont","+",64).setAlpha(.8)},t,1e4),this.queueAction(function(){return e.add.image(560,370,"mainscene","reaper_girl_blink_01.png").setFlipX(!0).setScale(6).setAlpha(.8)},t,10500),this.queueAction(function(){return e.add.bitmapText(640,370,"baseFont","=",64).setAlpha(.8)},t,11e3),this.queueAction(function(){return e.add.image(760,400,"mainscene","heart.png").setScale(8).setAlpha(.8)},t,11500),this.removeGroup(t,19e3,this.continue.bind(this))}},{key:"removeGroup",value:function(e,t,n){this.queuedUpActions.push(setTimeout(function(e,t){e.destroy(!0),t&&t()}.bind(this,e,n),t))}},{key:"queueAction",value:function(e,t,n,i){this.queuedUpActions.push(setTimeout(function(e,t,n){var i=t();e.add(i),n&&this.queuedUpActions.push(setTimeout(function(e){e.destroy()}.bind(this,i),n))}.bind(this,t,e,i),n))}},{key:"createContinueText",value:function(){this.add.bitmapText(this.cameras.main.width/2+6,this.cameras.main.height-30,"baseFont","Press                    to skip",24).setOrigin(.5);var e=this.add.bitmapText(this.cameras.main.width/2,this.cameras.main.height-30,"highlightFont","space",24).setOrigin(.5);this.tweens.add({targets:e,alpha:.3,yoyo:!0,repeat:-1,duration:700,ease:"Quad.easeIn"})}},{key:"continue",value:function(e){for(var t=0;t<this.queuedUpActions.length;t++)clearTimeout(this.queuedUpActions[t]);this.startInitiated||(this.startInitiated=!0,this.scene.get("HUD").showTransitionOverlay(800,function(){this.scene.start("GAME",{level:1})}.bind(this)))}}]),n}();exports.default=c;
},{}],"pXK8":[function(require,module,exports) {
"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function n(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function s(t,i){return!i||"object"!==e(i)&&"function"!=typeof i?o(t):i}function o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var c=function(e){function i(){return t(this,i),s(this,a(i).call(this,{key:"POWERUP",active:!1}))}return r(i,Phaser.Scene),n(i,[{key:"init",value:function(e){this.powerupStage=e.powerupStage,this.nextLevel=e.nextLevel}},{key:"create",value:function(){this.createContinueText(),this.input.keyboard.on("keyup_SPACE",function(e){this.continue()}.bind(this)),this.createCutscene(),this.scene.get("HUD").hideInGameHud(),this.scene.get("HUD").hideTransitionOverlay(800)}},{key:"createCutscene",value:function(){this.queuedUpActions=[],this.add.image(0,0,"mainscene","background.png").setDisplaySize(this.cameras.main.width,this.cameras.main.height).setDepth(-1).setAlpha(.8).setOrigin(0),this.showPowerup()}},{key:"showPowerup",value:function(){var e="",t="",i="";1===this.powerupStage?(e="GRIM GROWS STRONGER,\nHE CAN NOW CONTROL MORE INTELLIGENT CREATURES",t="reaper_idle_naked",i="reaper_idle_scythe"):2===this.powerupStage?(e="GRIMS POWERS CONTINUE TO GROW,\nCREATURES HE CONTROL CAN NOW MOVE HEAVY OBJECTS",t="reaper_idle_scythe",i="reaper_idle"):this.continue(),this.reaper=this.add.sprite(450,180,"mainscene","").setScale(12).anims.play(t),this.queuedUpActions.push(setTimeout(function(e,t){this.cameras.main.flash(1500,48,48,48),this.reaper.anims.play(e),this.scene.get("AUDIO").playLevelUp(),this.displayText(110,350,t,4e3,function(){this.queuedUpActions.push(setTimeout(this.continue.bind(this),6e3))}.bind(this))}.bind(this,i,e),2e3))}},{key:"createContinueText",value:function(){this.add.bitmapText(this.cameras.main.width/2+6,this.cameras.main.height-30,"baseFont","Press                    to skip",24).setOrigin(.5);var e=this.add.bitmapText(this.cameras.main.width/2,this.cameras.main.height-30,"highlightFont","space",24).setOrigin(.5);this.tweens.add({targets:e,alpha:.3,yoyo:!0,repeat:-1,duration:700,ease:"Quad.easeIn"})}},{key:"displayText",value:function(e,t,i,n,s){this.dialogMessageText=this.add.bitmapText(e,t,"baseFont","",36).setDepth(20),this.dialogMessageText.setText(""),this.dialogMessageText.setVisible(!0),this.typeOutDisplayText(i,50),this.queuedUpActions.push(setTimeout(s.bind(this),n))}},{key:"typeOutDisplayText",value:function(e,t){for(var i=e.split(""),n=0;n<i.length;n++)this.queuedUpActions.push(setTimeout(this.appendDisplayText.bind(this,i[n]),n*t))}},{key:"appendDisplayText",value:function(e){this.dialogMessageText.setText(this.dialogMessageText.text+e)}},{key:"continue",value:function(e){for(var t=0;t<this.queuedUpActions.length;t++)clearTimeout(this.queuedUpActions[t]);this.scene.get("HUD").showTransitionOverlay(800,function(){this.scene.start("GAME",{level:this.nextLevel})}.bind(this))}}]),i}();exports.default=c;
},{}],"5CNI":[function(require,module,exports) {
"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function r(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}function o(e,n){return!n||"object"!==t(n)&&"function"!=typeof n?i(e):n}function i(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var u=function(t){function n(){return e(this,n),o(this,a(n).call(this,{key:"SPLASH",active:!1}))}return s(n,Phaser.Scene),r(n,[{key:"create",value:function(){this.add.image(this.cameras.main.width/2,this.cameras.main.height/2,"mainscene","background.png").setDisplaySize(this.cameras.main.width,this.cameras.main.height).setAlpha(.8).setDepth(-1);var t=this.add.image(this.cameras.main.width/2,this.cameras.main.height/2,"ag_logo").setScale(1).setAlpha(0).setInteractive().on("pointerdown",function(){window.open("http://armor.ag/MoreGames","_blank")}.bind(this));this.tweens.add({targets:t,alpha:1,repeat:0,duration:3e3,ease:"Linear",onComplete:function(t){this.tweens.add({targets:t,alpha:0,repeat:0,duration:1e3,ease:"Linear",onComplete:function(){this.startGame()}.bind(this)})}.bind(this,t)})}},{key:"startGame",value:function(){this.scene.launch("HUD"),this.scene.start("MENU"),this.scene.start("AUDIO"),this.scene.start("ACHIEVEMENT")}}]),n}();exports.default=u;
},{}],"HJD/":[function(require,module,exports) {
"use strict";var e=o(require("./scene/GameScene")),r=o(require("./scene/MenuScene")),n=o(require("./scene/HudScene")),a=o(require("./scene/LoadingScene")),u=o(require("./scene/AudioScene")),c=o(require("./scene/AchievementScene")),t=o(require("./scene/GameOverScene")),d=o(require("./scene/CreditsScene")),i=o(require("./scene/story/IntroScene")),s=o(require("./scene/story/PowerupScene")),l=o(require("./scene/ArmorGamesSplashScene"));function o(e){return e&&e.__esModule?e:{default:e}}var f={type:Phaser.CANVAS,pixelArt:!0,physics:{default:"arcade",arcade:{debug:!1,tileBias:24}},backgroundColor:"#302c2e",scene:[a.default,l.default,i.default,s.default,r.default,d.default,e.default,t.default,u.default,c.default,n.default],scale:{mode:Phaser.Scale.FIT,autoCenter:Phaser.Scale.CENTER_BOTH,parent:"game-container",width:960,height:540}};new Phaser.Game(f),window.onload=function(){window.addEventListener("keydown",function(e){[32,37,38,39,40].indexOf(e.keyCode)>-1&&e.preventDefault()},!1)};
},{"./scene/GameScene":"3Q/J","./scene/MenuScene":"+oaI","./scene/HudScene":"jooe","./scene/LoadingScene":"1pe0","./scene/AudioScene":"Krzu","./scene/AchievementScene":"aPuT","./scene/GameOverScene":"lYfh","./scene/CreditsScene":"J49m","./scene/story/IntroScene":"hcX4","./scene/story/PowerupScene":"pXK8","./scene/ArmorGamesSplashScene":"5CNI"}]},{},["HJD/"], null)